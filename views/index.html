<!DOCTYPE html>
<html>
	<head>
		<title>QSim</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1.0">

		<link rel="stylesheet" href="assets/css/Q.css">
		<link rel="stylesheet" href="assets/css/Q-Circuit-Editor.css">
		<link rel="stylesheet" href="assets/css/documentation.css">

		<script src="assets/js/Q.js"></script>
		<script src="assets/js/Q-ComplexNumber.js"></script>
		<script src="assets/js/Q-Matrix.js"></script>
		<script src="assets/js/Q-Qubit.js"></script>
		<script src="assets/js/Q-Gate.js"></script>
		<script src="assets/js/Q-History.js"></script>
		<script src="assets/js/Q-Circuit.js"></script>
		<script src="assets/js/Q-Circuit-Editor.js"></script>
	</head>
	<body>
		<main>
			<div class='Q-circuit-palette'></div>
			<div id="playground"></div>
		</main>
	</body>
	<script>
		// 创造量子门的图表，以供拖拽使用
		Array
            .from( document.querySelectorAll( '.Q-circuit-palette' ))
            .forEach( function( el ){
                Q.Circuit.Editor.createPalette( el )
            })

		const updatePlayground = () => {

			const circuit = Q( 2, 3 )
			.h( 1, 1 )
			.x( 2, [ 1, 2 ])
			if( circuit instanceof Q.Circuit ){
				circuit.name = 'playground'
				const domEl = document.getElementById( 'playground' )
				if( domEl ){
					while( domEl.lastChild ){
						
						domEl.removeChild( domEl.lastChild )
					}
					circuit.sort$()
					circuit.toDom( domEl )				
				}
				circuit.evaluate$()
				}
			else {
				console.log( 'There’s an error in your circuit!!' )
			}
		}
		updatePlayground()
		
	</script>
</html>